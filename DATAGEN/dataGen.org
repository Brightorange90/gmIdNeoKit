* General
** Purpose
Guideline for detail usage of the files included
** Desired Users
1. Familiar with Cadence Virtuoso usage
2. Familiar with Spice/Spectre netlist creation & modification
* Step-by-step Guideline
** Preparation : Generate the reference netlist
*** Build the schematic as shown in techChar_nmos2v_full.png
[[file:references/techChar_nmos2v_full.png]]
*** Generate the netlist as reference from ADE of Virtuoso
1. What you get should be similar to the modified netlist techChar_nmos2v.scs
2. The netlist you generated through config_xxx_spectre.m file should be similar to the one generated by ADE. Pay attention to the following parts
   - Path to model files included for simulation
   - Corner settings
   - MOS transistors width, number of fingers, and multipliers
** Configuration File Update
*** Update the Configuration File
1. Copy all the scripts in basic_files folder
2. Gather the necessary information you need from the reference netlist
   1. XXX_tech: code name for the technology you are using, such as cmos10rf, 180msrf, 130bcd...
   2. XXX_corner: setting for technology corner, such as tt, ff...
   3. XXX_modelPath: path to the model for simulation
   4. XXX_model: code for model type and version, such as BSIM3, BSIM4...
   5. XXX_nmosType: device type for the nmos
   6. XXX_pmosType: device type for the pmos
   7. XXX_temp: temperature for the characteristic process, such as 27 for room temperature
3. Update the file name to match the function name
*** Debug the Configuration File
1. Change the spectre_debug.m to use the proper configuration file for debugging
2. Run spectre_debug.m in Matlab
   - If everything is working, spectre would complete with 0 errors.
   - Parameters recorded in the simulation would be printed in the end.
3. Tips for debugging
   - Compare the techsweep_XXX_tech.scs with the reference netlist and make sure you understand the differences and decide if they matter
   - Update the simulation netlist part in the configuration file to fix any errors you find
   - Read the output log of Spectre techsweep_XXX_tech.out
*** Single Corner Data Generation
1. Change the spectre_basic.m to use the proper configuration file for data generation
2. Start with a coarse sweep by setting the sweep parameters setting part in the configuration file
   - Coarse sweep would help you to estimate the time and disk usage for a full sweep
   - Coarse sweep result could be used to verify the quality of the simulation netlist
3. Run the coarse sweep and debug the configuration file until mat files are generated with no error
4. Tweak the sweep parameters setting part in the configuration file again for the fine sweep
   - Estimate the simulation time and size of the output file
5. Run the fine sweep
*** Multiple Corner Data Generation
1. Update the configuration file
   1. Change the file & function name from config_ to corner_
   2. Add corner as the parameter for the function
   3. Set c.corner equal to corner
2. Update the spectre_corner.m to use the proper configuration file
3. Set the corner for simulation in spectre_corner.m
4. Run the corner simulation
** Extension
1. Modify the configuration files so that only nmos or pmos is tested
* Folder description
** basic_files
Template for configuration and Spectre debugging/running scripts.
** Demo
*** 0_Reference
Netlist generated from ADE of Virtuoso for reference as indicated in [[*Generate the netlist as reference from ADE of Virtuoso][Generate the netlist as reference from ADE of Virtuoso]]
*** 1_Debug
Configuration and Spectre debug scripts used in [[*Debug the Configuration File][Debug the Configuration File]]
*** 2_Basic
Configuration and single-corner-simulation scripts used in [[*Single Corner Data Generation][Single Corner Data Generation]]
*** 3_Corner
Configuration and multiple-corner-simulation scripts used in [[*Multiple Corner Data Generation][Multiple Corner Data Generation]]
** references
1. techChar_nmos2v_full.png : Reference schematic referred in [[*Build the schematic as shown in techChar_nmos2v_full.png][Build the schematic as shown in techChar_nmos2v_full.png]]
